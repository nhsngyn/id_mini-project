<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Price & Volume Dashboard</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header>
      <div class="container">
        <h1>Price & Volume</h1>
      </div>
    </header>

    <!-- 컨트롤 영역 -->
    <section class="controls" role="region" aria-labelledby="controls-title">
      <h2 id="controls-title" class="sr-only">차트 컨트롤</h2>

      <div class="container control-flex">
        <!-- 좌측: 자산 드롭다운 -->
        <div class="left-controls">
          <label for="asset-select" class="sr-only">자산 선택</label>
          <div class="select">
            <select id="asset-select" name="asset">
              <option value="mantra">Mantra</option>
              <option value="stock-a">Stock A</option>
              <option value="stock-b">Stock B</option>
              <option value="crypto-c">Crypto C</option>
            </select>
          </div>
        </div>

        <!-- 우측: Timeframe / Range 카드 -->
        <div
          class="right-controls"
          role="group"
          aria-labelledby="chart-meta-title"
        >
          <h2 id="chart-meta-title" class="sr-only">차트 메타 정보</h2>

          <div class="meta">
            <img src="image/icn_candle_16.png" alt="" width="16" height="16" />
            <span class="meta-title">Timeframe</span>
            <span class="meta-value" id="badge-interval">1 Day</span>
          </div>

          <div class="meta">
            <img src="image/icn_range_16.png" alt="" width="16" height="16" />
            <span class="meta-title">Range</span>
            <span class="meta-value" id="badge-range">
              60 Days (25/08/18–10/16)
            </span>
          </div>
        </div>
      </div>
    </section>

    <!-- 메인 차트 영역 (A안: 단일 캔버스만) -->
    <main id="main">
      <div class="container chart-area">
        <div id="chart"></div>
        <!-- ECandleBoot가 이 컨테이너에 렌더 -->
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <script src="echart-candles.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // (테스트 중엔 window.rawData 스니펫을 이 위쪽에 넣어두면 fetch를 안 타고 바로 렌더돼)
        ECandleBoot({
          containerId: "chart",
          defaultFile: "mantra_60days.json",
        });
      });
    </script>
  </body>
</html>
